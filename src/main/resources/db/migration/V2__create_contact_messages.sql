CREATE TABLE CONTACT_MESSAGES (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  FULL_NAME VARCHAR2(200) NOT NULL,
  EMAIL VARCHAR2(200) NOT NULL,
  PHONE VARCHAR2(50),
  SUBJECT VARCHAR2(250),
  MESSAGE_TEXT CLOB NOT NULL,
  STATUS VARCHAR2(30) DEFAULT 'NEW' NOT NULL,
  IP_ADDRESS VARCHAR2(64),
  USER_AGENT VARCHAR2(500),
  CREATED_AT TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
  UPDATED_AT TIMESTAMP
);

CREATE INDEX IDX_CONTACT_MESSAGES_STATUS ON CONTACT_MESSAGES (STATUS);
CREATE INDEX IDX_CONTACT_MESSAGES_CREATED_AT ON CONTACT_MESSAGES (CREATED_AT);


